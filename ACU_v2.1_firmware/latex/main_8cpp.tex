\doxysection{src/main.cpp File Reference}
\hypertarget{main_8cpp}{}\label{main_8cpp}\index{src/main.cpp@{src/main.cpp}}


Main firmware file for the Actuation Control Unit (ACU) V2.\+1.  


{\ttfamily \#include $<$Arduino.\+h$>$}\newline
{\ttfamily \#include "{}definitions.\+h"{}}\newline
{\ttfamily \#include "{}Flex\+CAN\+\_\+\+T4\+\_\+.\+h"{}}\newline
{\ttfamily \#include "{}Interval\+Timer.\+h"{}}\newline
{\ttfamily \#include "{}autonomous\+\_\+temporary.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{main_8cpp_a58aa9c1c811304edc824eef2f3375c16}{print\+\_\+state}}~1
\item 
\#define \mbox{\hyperlink{main_8cpp_a645c9463ff569ba10e6278e6931d4466}{PRESSURE\+\_\+\+READINGS}}~8
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}} \{ \newline
\mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a98d2a2153b4ae0445fa0b114d65b94d9}{STATE\+\_\+\+INIT}}
, \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a01684ac1931339796ba48f9898361b06}{STATE\+\_\+\+MISSION\+\_\+\+SELECT}}
, \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027acee8959f0be0cfa49a2ce9eb88cfc216}{STATE\+\_\+\+INITIAL\+\_\+\+SEQUENCE}}
, \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a5ae0bbfe1a737c76e53253b05168b56b}{STATE\+\_\+\+READY}}
, \newline
\mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027af95526d1ef4831064e055679fde8e9d5}{STATE\+\_\+\+DRIVING}}
, \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a3df5e9f9e42f7d731b2ada9df91022dc}{STATE\+\_\+\+EBS\+\_\+\+ERROR}}
, \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027ad0180e0382824e561c72f20f08838420}{STATE\+\_\+\+EMERGENCY}}
, \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a5e09161e3e14f41b526727f69a2e4148}{STATE\+\_\+\+FINISHED}}
 \}
\begin{DoxyCompactList}\small\item\em Represents the various operational states of the ACU (Actuation Control Unit). \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291}{AS\+\_\+\+STATE\+\_\+t}} \{ \newline
\mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291acebdef96c5ee4caa7e8635f29742c4e2}{AS\+\_\+\+STATE\+\_\+\+OFF}}
, \mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291a5693ff96ec6d98e68a932a046322209b}{AS\+\_\+\+STATE\+\_\+\+READY}}
, \mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291ade7e0dd70ec6503e1c8e1bb1ace8ba8e}{AS\+\_\+\+STATE\+\_\+\+DRIVING}}
, \mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291a62909aaf15074efd95349b61fae63235}{AS\+\_\+\+STATE\+\_\+\+EMERGENCY}}
, \newline
\mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291a6eabdbb243af859b3f58c80b9e21c9f1}{AS\+\_\+\+STATE\+\_\+\+FINISHED}}
 \}
\begin{DoxyCompactList}\small\item\em Represents the different states of the Autonomous System (AS). This enumeration defines the various operational states of the AS, which can be used to manage the system\textquotesingle{}s behavior during autonomous operations. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280a}{current\+\_\+mission\+\_\+t}} \{ \newline
\mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aa506e8dd29460ea318b68d035f679b01b}{MANUAL}}
, \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aacc313c985549b695d777b0cd3d772555}{ACCELERATION}}
, \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aa6bc0810ff00cd4a385271784ee4c46eb}{SKIDPAD}}
, \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aa75101ac04ae702e4d933997b1d854388}{AUTOCROSS}}
, \newline
\mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aacd54d652c407892c09d1c0394be11a18}{TRACKDRIVE}}
, \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aa600401a2aada0e65f36f57f235aa473d}{EBS\+\_\+\+TEST}}
, \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aace8b34ffaf92d0e32f8d3e9aae65831a}{INSPECTION}}
 \}
\item 
enum \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3}{INITIAL\+\_\+\+SEQUENCE\+\_\+\+STATE\+\_\+t}} \{ \newline
\mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a7244ab7bd10a7aa61a004bfb8c303326}{WDT\+\_\+\+TOOGLE\+\_\+\+CHECK}}
, \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3af21ad4fd97f8558604a23ed6ca9154b0}{WDT\+\_\+\+STP\+\_\+\+TOOGLE\+\_\+\+CHECK}}
, \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a59fb30c257d020c5d58b4b90932cd6e4}{PNEUMATIC\+\_\+\+CHECK}}
, \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3ae0a05a0d6b2e17a818881ea075b6ffbc}{PRESSURE\+\_\+\+CHECK1}}
, \newline
\mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a9b05aee3f9d619c04ce9beead9a66ca7}{IGNITON}}
, \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3ae82a7b620a6330069cdfec7997a51bab}{PRESSURE\+\_\+\+CHECK\+\_\+\+FRONT}}
, \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a723570e312c64fca3b60b9e6af97b277}{PRESSURE\+\_\+\+CHECK\+\_\+\+REAR}}
, \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a1713c4158314e54ead4d3cf29f501ee2}{PRESSURE\+\_\+\+CHECK2}}
, \newline
\mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a2fd6f336d08340583bd620a7f5694c90}{ERROR}}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{main_8cpp_ab720bd133a6801af067982496780e6fe}{Update\+State}} (void)
\begin{DoxyCompactList}\small\item\em Update the state of the ACU based on inputs and conditions. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_aeabeb8f2cc848d690e00b50345563597}{Handle\+State}} (void)
\begin{DoxyCompactList}\small\item\em Handle actions specific to the current state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_a365a7ca4b4550d949262a3dbbed122ac}{print\+\_\+state\+\_\+transition}} (\mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}} from, \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}} to)
\begin{DoxyCompactList}\small\item\em Print state transition for debugging. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_a10b1d3447930037733d9dc0f5dc66ba3}{can\+ISR}} (const CAN\+\_\+message\+\_\+t \&msg)
\begin{DoxyCompactList}\small\item\em CAN receive interrupt callback. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_a80b90abfd46377a13c1ac43648bb3624}{led\+\_\+heartbit}} ()
\item 
void \mbox{\hyperlink{main_8cpp_a9276a0e4f94fc527943d2ccc75986801}{peripheral\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em Initialize peripherals and pins. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_a41a2ef81f321319f1f2fd450ab85d3a2}{Pressure\+\_\+readings}} ()
\begin{DoxyCompactList}\small\item\em Read pressure sensors and update system state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_af5b02dc36a29cc8a9cecafe91de92888}{send\+\_\+can\+\_\+msg}} ()
\begin{DoxyCompactList}\small\item\em Send CAN messages based on system state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_a8b77b8c8d4f003bea2fa1df64c7dd946}{median\+\_\+pressures}} ()
\item 
void \mbox{\hyperlink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence}} ()
\item 
void \mbox{\hyperlink{main_8cpp_a4c8e051451b4e34f5252115abb20f204}{check\+\_\+ignition}} ()
\begin{DoxyCompactList}\small\item\em Debounces and checks the ignition input signal. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_ad7ca1335f3784986a9e2ba85d381aa29}{ASSI}} ()
\begin{DoxyCompactList}\small\item\em Controls the state of the YELLOW\+\_\+\+LEDS and BLUE\+\_\+\+LEDS based on the current as\+\_\+state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_aa79651decaade86f3f99ac7d213f588d}{Mission\+\_\+\+Indicator}} ()
\begin{DoxyCompactList}\small\item\em Updates the mission indicator LEDs based on the current mission state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8cpp_a4fc01d736fe50cf5b977f755b675f11d}{setup}} ()
\item 
void \mbox{\hyperlink{main_8cpp_afe461d27b9c48d5921c00d521181f12f}{loop}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{main_8cpp_afc8e27fc9a2dc86341a3c0c5ae2809da}{state\+\_\+names}} \mbox{[}$\,$\mbox{]}
\item 
volatile \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}} \mbox{\hyperlink{main_8cpp_a84e205af5a6e985ba0c22f1641565e3d}{current\+\_\+state}} = \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a98d2a2153b4ae0445fa0b114d65b94d9}{STATE\+\_\+\+INIT}}
\item 
volatile \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}} \mbox{\hyperlink{main_8cpp_a1d1c453a64c31b777d9f1cb48e1f8ff7}{previous\+\_\+state}} = \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a98d2a2153b4ae0445fa0b114d65b94d9}{STATE\+\_\+\+INIT}}
\item 
volatile \mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291}{AS\+\_\+\+STATE\+\_\+t}} \mbox{\hyperlink{main_8cpp_aa8c722e07ffdeb05300c835290553e91}{as\+\_\+state}} = \mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291acebdef96c5ee4caa7e8635f29742c4e2}{AS\+\_\+\+STATE\+\_\+\+OFF}}
\item 
\mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3}{INITIAL\+\_\+\+SEQUENCE\+\_\+\+STATE\+\_\+t}} \mbox{\hyperlink{main_8cpp_aa325f69e89b0af5d6342911e2bafda87}{initial\+\_\+sequence\+\_\+state}} = \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a9b05aee3f9d619c04ce9beead9a66ca7}{IGNITON}}
\item 
\mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280a}{current\+\_\+mission\+\_\+t}} \mbox{\hyperlink{main_8cpp_ae2ec9a09baa570c057ea6d1eccd73144}{current\+\_\+mission}} = \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aa506e8dd29460ea318b68d035f679b01b}{MANUAL}}
\item 
\mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280a}{current\+\_\+mission\+\_\+t}} \mbox{\hyperlink{main_8cpp_afe9b6925097805059631c6391b043688}{jetson\+\_\+mission}} = \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aa506e8dd29460ea318b68d035f679b01b}{MANUAL}}
\item 
Interval\+Timer \mbox{\hyperlink{main_8cpp_a27704d3b3dc2314a6a46697028ea9084}{PRESSURE\+\_\+\+TIMER}}
\item 
Interval\+Timer \mbox{\hyperlink{main_8cpp_aad9c1d6673f4b146294ecb5c3deb475d}{CAN\+\_\+\+TIMER}}
\item 
Flex\+CAN\+\_\+\+T4$<$ CAN2, RX\+\_\+\+SIZE\+\_\+1024, TX\+\_\+\+SIZE\+\_\+1024 $>$ \mbox{\hyperlink{main_8cpp_ad167169760644f4776109ea0cfe13862}{CAN}}
\item 
unsigned long \mbox{\hyperlink{main_8cpp_aee5c37d99841325356136abf5b12d12b}{Heart\+Bit}} = 0
\item 
float \mbox{\hyperlink{main_8cpp_a33bc2688ab5de451dd1bb001cbc993e7}{EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+A\+\_\+values}} \mbox{[}\mbox{\hyperlink{main_8cpp_a645c9463ff569ba10e6278e6931d4466}{PRESSURE\+\_\+\+READINGS}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Array storing recent pressure readings from EBS Tank A. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{main_8cpp_acc7c62efa88e9841882cd75fdf78f53a}{EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+B\+\_\+values}} \mbox{[}\mbox{\hyperlink{main_8cpp_a645c9463ff569ba10e6278e6931d4466}{PRESSURE\+\_\+\+READINGS}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Array storing recent pressure readings from EBS Tank B. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{main_8cpp_a600772ce5723a61206cfb7896fa87b98}{TANK\+\_\+\+PRESSURE\+\_\+\+FRONT}} = 0
\begin{DoxyCompactList}\small\item\em Pressure value for front tank (in bar). \end{DoxyCompactList}\item 
float \mbox{\hyperlink{main_8cpp_a130bd0aa4a3a92ede1b03bff81261c87}{TANK\+\_\+\+PRESSURE\+\_\+\+REAR}} = 0
\begin{DoxyCompactList}\small\item\em Pressure value for rear tank (in bar). \end{DoxyCompactList}\item 
float \mbox{\hyperlink{main_8cpp_a460ba729c34672a0fb2c9a5d51e9ddc0}{HYDRAULIC\+\_\+\+PRESSURE\+\_\+\+FRONT}} = 0
\begin{DoxyCompactList}\small\item\em Hydraulic pressure value for front brakes (in bar). \end{DoxyCompactList}\item 
float \mbox{\hyperlink{main_8cpp_a154a38361e68d4995a2a560dc168886b}{HYDRAULIC\+\_\+\+PRESSURE\+\_\+\+REAR}} = 0
\begin{DoxyCompactList}\small\item\em Hydraulic pressure value for rear brakes (in bar). \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a47d7962c88cb9433a97f866a17deb982}{adc\+\_\+pointer}} = 0
\begin{DoxyCompactList}\small\item\em Pointer for pressure readings buffer. \end{DoxyCompactList}\item 
volatile bool \mbox{\hyperlink{main_8cpp_a4c0a1a82b1726627b5cb8c14b30ce99f}{update\+\_\+median\+\_\+flag}} = false
\begin{DoxyCompactList}\small\item\em Flag to indicate if median pressure update is needed. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_aa7b9be753331de0e38c38e092d0b57b0}{ignition\+\_\+flag}} = 0
\begin{DoxyCompactList}\small\item\em Flag to indicate ignition signal. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_abe9633c73cd204b6b48b52a7e4e67696}{ignition\+\_\+vcu}} = 0
\begin{DoxyCompactList}\small\item\em Ignition signal state from VCU. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_ae9c8df67a568afce574646db88f0b5cc}{asms\+\_\+flag}} = 0
\begin{DoxyCompactList}\small\item\em Current ASMS (Autonomous System Master Switch) signal state. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a615a71b2b81b6d4b4222f65c3455269d}{emergency\+\_\+flag}} = 0
\begin{DoxyCompactList}\small\item\em Flag to indicate emergency state. \end{DoxyCompactList}\item 
volatile uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a2e5a501df5392a203c113a3381817fbf}{res\+\_\+emergency}} = 0
\begin{DoxyCompactList}\small\item\em Emergency response from AS (Autonomous System). \end{DoxyCompactList}\item 
volatile bool \mbox{\hyperlink{main_8cpp_a18c6488c8a74ce3b308a0f46a3b0e3ef}{wdt\+\_\+togle\+\_\+enable}} = true
\begin{DoxyCompactList}\small\item\em Flag to enable WDT (Watchdog Timer) toggle. \end{DoxyCompactList}\item 
unsigned long \mbox{\hyperlink{main_8cpp_a3fd1b12a5cf5aae907bb1e1effbec4f5}{wdt\+\_\+togle\+\_\+counter}} = 0
\begin{DoxyCompactList}\small\item\em Counter for WDT toggle timing. \end{DoxyCompactList}\item 
unsigned long \mbox{\hyperlink{main_8cpp_a2192412d487dff6e1b8987de86abdea4}{wdt\+\_\+relay\+\_\+timout}} = 0
\begin{DoxyCompactList}\small\item\em Timeout for WDT relay check. \end{DoxyCompactList}\item 
unsigned long \mbox{\hyperlink{main_8cpp_a25b1e1dfb81549003e43a4e8862fa2c1}{pressure\+\_\+check\+\_\+delay}} = 0
\begin{DoxyCompactList}\small\item\em Delay for pressure check timing. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a03f2a85cd17091c0ce3d5ce2746f9569}{ignition\+\_\+enable}} = 0
\begin{DoxyCompactList}\small\item\em Flag to enable ignition logic. \end{DoxyCompactList}\item 
volatile bool \mbox{\hyperlink{main_8cpp_acce35ce6efd55f2adb37b91e886ebc04}{res\+\_\+active}} = false
\begin{DoxyCompactList}\small\item\em Flag to indicate if response from AS is active. \end{DoxyCompactList}\item 
unsigned long \mbox{\hyperlink{main_8cpp_aeddd43bbb23b16018d6ae66ce378d43b}{emergency\+\_\+timestamp}} = 0
\begin{DoxyCompactList}\small\item\em Timestamp for entering emergency state. \end{DoxyCompactList}\item 
unsigned long \mbox{\hyperlink{main_8cpp_a8304abe05c017907297456797ec09109}{ASSI\+\_\+\+YELLOW\+\_\+time}} = 0
\begin{DoxyCompactList}\small\item\em Timestamp for ASSI yellow LED blinking. \end{DoxyCompactList}\item 
unsigned long \mbox{\hyperlink{main_8cpp_aa0537878e941632c4c18f5e20da5ac3f}{ASSI\+\_\+\+BLUE\+\_\+time}} = 0
\begin{DoxyCompactList}\small\item\em Timestamp for ASSI blue LED blinking. \end{DoxyCompactList}\item 
unsigned long \mbox{\hyperlink{main_8cpp_abd5a48e208e80017eaac10fc7bbcf9fa}{last\+\_\+button\+\_\+time\+\_\+ms}} = 0
\begin{DoxyCompactList}\small\item\em Last button press time in milliseconds. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a7e01c2a42f6ff68b1cad1418014f3add}{Speed\+\_\+actual}} = 0
\begin{DoxyCompactList}\small\item\em Handbook variables that are sent to can bus -\/\texorpdfstring{$>$}{>} DV driving dynamics 1 FSG Handbook 2025 page 20. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_abf8cc411bea715a48eb3d853adc29009}{Speed\+\_\+target}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a853324ec6c561f4c32a7acfec48b8c0e}{Steering\+\_\+angle\+\_\+actual}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a5b8c589ff5901ddd67657fa2027651e5}{Steering\+\_\+angle\+\_\+target}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a3bd5756dc55dbfa3ada3d8319a134d4b}{Brake\+\_\+hydr\+\_\+actual}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a59c47938a517ca38b64ce2df95924c85}{Brake\+\_\+hydr\+\_\+target}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a65875a2bae11dcf46dcbc32641e22d46}{Motor\+\_\+moment\+\_\+actual}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a326df945948d6e09603887fef61a1dce}{Motor\+\_\+moment\+\_\+target}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_ac663409b4ba67ef30f6156495a5b563a}{as\+\_\+status}} = 1
\begin{DoxyCompactList}\small\item\em Handbook variables that are sent to can bus -\/\texorpdfstring{$>$}{>} DV system status FSG Handbook 2025 page 20. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a6864ae64ef562241139dde3ee81e4e67}{EBS\+\_\+status}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_aaccce5c0bd5ecff1acf7c58af82c6e5e}{AMI\+\_\+status}} = 0
\item 
bool \mbox{\hyperlink{main_8cpp_a83ff0ab6d7df349a5ff1bcc47f520eda}{Steering\+\_\+state}} = false
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_ade5cf5131cd129b4b68313ef2e4076cc}{ASB\+\_\+redundancy}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_aa65f1d3faf0dc1a57ed60dd811070ec4}{Lap\+\_\+counter}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8cpp_a4fec9983a5cbb27e05df4878d96afb9c}{cones\+\_\+count\+\_\+actual}} = 0
\item 
uint16\+\_\+t \mbox{\hyperlink{main_8cpp_a5d4f3a3d2fd70f4a9480c69c17594041}{cones\+\_\+count}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Main firmware file for the Actuation Control Unit (ACU) V2.\+1. 

This file implements the main logic, state machine, and peripheral handling for the ACU, which manages the actuation and safety logic for an autonomous vehicle. The ACU interfaces with pressure sensors, solenoids, CAN bus, and various status indicators.

Key features\+:
\begin{DoxyItemize}
\item Implements a robust state machine for ACU operation, including initialization, mission selection, initial safety checks, ready, driving, emergency, and finished states.
\item Handles CAN communication for receiving commands and sending status updates.
\item Reads and processes pressure sensor data with averaging and conversion to engineering units.
\item Manages ignition and emergency logic with debounce and safety checks.
\item Controls visual indicators (LEDs) for system and mission status.
\item Provides detailed documentation for each function and state.
\end{DoxyItemize}

\begin{DoxyNote}{Note}
Key global variables used throughout this file include\+:
\begin{DoxyItemize}
\item current\+\_\+state, previous\+\_\+state\+: ACU state machine tracking.
\item as\+\_\+state\+: Autonomous system state.
\item initial\+\_\+sequence\+\_\+state\+: State for initial safety sequence.
\item current\+\_\+mission, jetson\+\_\+mission\+: Mission selection tracking.
\item EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+A\+\_\+values, EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+B\+\_\+values\+: Pressure sensor readings.
\item TANK\+\_\+\+PRESSURE\+\_\+\+FRONT, TANK\+\_\+\+PRESSURE\+\_\+\+REAR\+: Calculated tank pressures.
\item HYDRAULIC\+\_\+\+PRESSURE\+\_\+\+FRONT, HYDRAULIC\+\_\+\+PRESSURE\+\_\+\+REAR\+: Hydraulic pressures.
\item ignition\+\_\+flag, ignition\+\_\+vcu, ignition\+\_\+enable\+: Ignition logic.
\item asms\+\_\+flag\+: Autonomous system master switch state.
\item emergency\+\_\+flag, res\+\_\+emergency, res\+\_\+active\+: Emergency logic.
\item wdt\+\_\+togle\+\_\+enable, wdt\+\_\+togle\+\_\+counter, wdt\+\_\+relay\+\_\+timout\+: Watchdog timer logic.
\item pressure\+\_\+check\+\_\+delay\+: Timing for pressure checks.
\item emergency\+\_\+timestamp\+: Timing for emergency state.
\item ASSI\+\_\+\+YELLOW\+\_\+time, ASSI\+\_\+\+BLUE\+\_\+time\+: Timing for LED indicators.
\item last\+\_\+button\+\_\+time\+\_\+ms\+: Debounce for mission selection button.
\item last\+\_\+ign\+\_\+state, debounced\+\_\+ign\+\_\+state\+: Debounce for ignition input.
\end{DoxyItemize}
\end{DoxyNote}
\begin{DoxyAuthor}{Author}
(Bruno Vicente -\/ LART) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
(2025) 
\end{DoxyDate}


\label{doc-define-members}
\Hypertarget{main_8cpp_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{main_8cpp_a645c9463ff569ba10e6278e6931d4466}\index{main.cpp@{main.cpp}!PRESSURE\_READINGS@{PRESSURE\_READINGS}}
\index{PRESSURE\_READINGS@{PRESSURE\_READINGS}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{PRESSURE\_READINGS}{PRESSURE\_READINGS}}
{\footnotesize\ttfamily \label{main_8cpp_a645c9463ff569ba10e6278e6931d4466} 
\#define PRESSURE\+\_\+\+READINGS~8}

\Hypertarget{main_8cpp_a58aa9c1c811304edc824eef2f3375c16}\index{main.cpp@{main.cpp}!print\_state@{print\_state}}
\index{print\_state@{print\_state}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{print\_state}{print\_state}}
{\footnotesize\ttfamily \label{main_8cpp_a58aa9c1c811304edc824eef2f3375c16} 
\#define print\+\_\+state~1}



\label{doc-enum-members}
\Hypertarget{main_8cpp_doc-enum-members}
\doxysubsection{Enumeration Type Documentation}
\Hypertarget{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}\index{main.cpp@{main.cpp}!ACU\_STATE\_t@{ACU\_STATE\_t}}
\index{ACU\_STATE\_t@{ACU\_STATE\_t}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{ACU\_STATE\_t}{ACU\_STATE\_t}}
{\footnotesize\ttfamily \label{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027} 
enum \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}}}



Represents the various operational states of the ACU (Actuation Control Unit). 

This enumeration defines the possible states in which the ACU can exist during its lifecycle. Each state corresponds to a specific phase or condition of the system. \begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{STATE\_INIT@{STATE\_INIT}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!STATE\_INIT@{STATE\_INIT}}}\Hypertarget{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a98d2a2153b4ae0445fa0b114d65b94d9}\label{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a98d2a2153b4ae0445fa0b114d65b94d9} 
STATE\+\_\+\+INIT&The initial state after power-\/up or reset, where system initialization occurs. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{STATE\_MISSION\_SELECT@{STATE\_MISSION\_SELECT}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!STATE\_MISSION\_SELECT@{STATE\_MISSION\_SELECT}}}\Hypertarget{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a01684ac1931339796ba48f9898361b06}\label{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a01684ac1931339796ba48f9898361b06} 
STATE\+\_\+\+MISSION\+\_\+\+SELECT&State where the mission or operational mode is selected. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{STATE\_INITIAL\_SEQUENCE@{STATE\_INITIAL\_SEQUENCE}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!STATE\_INITIAL\_SEQUENCE@{STATE\_INITIAL\_SEQUENCE}}}\Hypertarget{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027acee8959f0be0cfa49a2ce9eb88cfc216}\label{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027acee8959f0be0cfa49a2ce9eb88cfc216} 
STATE\+\_\+\+INITIAL\+\_\+\+SEQUENCE&State for executing the initial sequence before becoming ready. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{STATE\_READY@{STATE\_READY}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!STATE\_READY@{STATE\_READY}}}\Hypertarget{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a5ae0bbfe1a737c76e53253b05168b56b}\label{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a5ae0bbfe1a737c76e53253b05168b56b} 
STATE\+\_\+\+READY&System is ready and awaiting further commands or actions. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{STATE\_DRIVING@{STATE\_DRIVING}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!STATE\_DRIVING@{STATE\_DRIVING}}}\Hypertarget{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027af95526d1ef4831064e055679fde8e9d5}\label{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027af95526d1ef4831064e055679fde8e9d5} 
STATE\+\_\+\+DRIVING&The ACU is actively controlling the vehicle or system in its driving mode. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{STATE\_EBS\_ERROR@{STATE\_EBS\_ERROR}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!STATE\_EBS\_ERROR@{STATE\_EBS\_ERROR}}}\Hypertarget{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a3df5e9f9e42f7d731b2ada9df91022dc}\label{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a3df5e9f9e42f7d731b2ada9df91022dc} 
STATE\+\_\+\+EBS\+\_\+\+ERROR&An error has occurred in the Emergency Braking System (EBS). \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{STATE\_EMERGENCY@{STATE\_EMERGENCY}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!STATE\_EMERGENCY@{STATE\_EMERGENCY}}}\Hypertarget{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027ad0180e0382824e561c72f20f08838420}\label{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027ad0180e0382824e561c72f20f08838420} 
STATE\+\_\+\+EMERGENCY&The system has entered an emergency state, requiring immediate attention. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{STATE\_FINISHED@{STATE\_FINISHED}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!STATE\_FINISHED@{STATE\_FINISHED}}}\Hypertarget{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a5e09161e3e14f41b526727f69a2e4148}\label{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a5e09161e3e14f41b526727f69a2e4148} 
STATE\+\_\+\+FINISHED&The mission or operation has completed, and the system is in a finished state. \\
\hline

\end{DoxyEnumFields}
\Hypertarget{main_8cpp_a9c37b122762e5d8b803b3ee44e747291}\index{main.cpp@{main.cpp}!AS\_STATE\_t@{AS\_STATE\_t}}
\index{AS\_STATE\_t@{AS\_STATE\_t}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{AS\_STATE\_t}{AS\_STATE\_t}}
{\footnotesize\ttfamily \label{main_8cpp_a9c37b122762e5d8b803b3ee44e747291} 
enum \mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291}{AS\+\_\+\+STATE\+\_\+t}}}



Represents the different states of the Autonomous System (AS). This enumeration defines the various operational states of the AS, which can be used to manage the system\textquotesingle{}s behavior during autonomous operations. 

\begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{AS\_STATE\_OFF@{AS\_STATE\_OFF}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!AS\_STATE\_OFF@{AS\_STATE\_OFF}}}\Hypertarget{main_8cpp_a9c37b122762e5d8b803b3ee44e747291acebdef96c5ee4caa7e8635f29742c4e2}\label{main_8cpp_a9c37b122762e5d8b803b3ee44e747291acebdef96c5ee4caa7e8635f29742c4e2} 
AS\+\_\+\+STATE\+\_\+\+OFF&ASSI OFF \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AS\_STATE\_READY@{AS\_STATE\_READY}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!AS\_STATE\_READY@{AS\_STATE\_READY}}}\Hypertarget{main_8cpp_a9c37b122762e5d8b803b3ee44e747291a5693ff96ec6d98e68a932a046322209b}\label{main_8cpp_a9c37b122762e5d8b803b3ee44e747291a5693ff96ec6d98e68a932a046322209b} 
AS\+\_\+\+STATE\+\_\+\+READY&ASSI yellow \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AS\_STATE\_DRIVING@{AS\_STATE\_DRIVING}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!AS\_STATE\_DRIVING@{AS\_STATE\_DRIVING}}}\Hypertarget{main_8cpp_a9c37b122762e5d8b803b3ee44e747291ade7e0dd70ec6503e1c8e1bb1ace8ba8e}\label{main_8cpp_a9c37b122762e5d8b803b3ee44e747291ade7e0dd70ec6503e1c8e1bb1ace8ba8e} 
AS\+\_\+\+STATE\+\_\+\+DRIVING&ASSI Blinking yellow \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AS\_STATE\_EMERGENCY@{AS\_STATE\_EMERGENCY}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!AS\_STATE\_EMERGENCY@{AS\_STATE\_EMERGENCY}}}\Hypertarget{main_8cpp_a9c37b122762e5d8b803b3ee44e747291a62909aaf15074efd95349b61fae63235}\label{main_8cpp_a9c37b122762e5d8b803b3ee44e747291a62909aaf15074efd95349b61fae63235} 
AS\+\_\+\+STATE\+\_\+\+EMERGENCY&ASSI blinking Blue \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AS\_STATE\_FINISHED@{AS\_STATE\_FINISHED}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!AS\_STATE\_FINISHED@{AS\_STATE\_FINISHED}}}\Hypertarget{main_8cpp_a9c37b122762e5d8b803b3ee44e747291a6eabdbb243af859b3f58c80b9e21c9f1}\label{main_8cpp_a9c37b122762e5d8b803b3ee44e747291a6eabdbb243af859b3f58c80b9e21c9f1} 
AS\+\_\+\+STATE\+\_\+\+FINISHED&ASSI Blue \\
\hline

\end{DoxyEnumFields}
\Hypertarget{main_8cpp_a52046db9ef2d3d10b93d18030826280a}\index{main.cpp@{main.cpp}!current\_mission\_t@{current\_mission\_t}}
\index{current\_mission\_t@{current\_mission\_t}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{current\_mission\_t}{current\_mission\_t}}
{\footnotesize\ttfamily \label{main_8cpp_a52046db9ef2d3d10b93d18030826280a} 
enum \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280a}{current\+\_\+mission\+\_\+t}}}

\begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{MANUAL@{MANUAL}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!MANUAL@{MANUAL}}}\Hypertarget{main_8cpp_a52046db9ef2d3d10b93d18030826280aa506e8dd29460ea318b68d035f679b01b}\label{main_8cpp_a52046db9ef2d3d10b93d18030826280aa506e8dd29460ea318b68d035f679b01b} 
MANUAL&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ACCELERATION@{ACCELERATION}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!ACCELERATION@{ACCELERATION}}}\Hypertarget{main_8cpp_a52046db9ef2d3d10b93d18030826280aacc313c985549b695d777b0cd3d772555}\label{main_8cpp_a52046db9ef2d3d10b93d18030826280aacc313c985549b695d777b0cd3d772555} 
ACCELERATION&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{SKIDPAD@{SKIDPAD}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!SKIDPAD@{SKIDPAD}}}\Hypertarget{main_8cpp_a52046db9ef2d3d10b93d18030826280aa6bc0810ff00cd4a385271784ee4c46eb}\label{main_8cpp_a52046db9ef2d3d10b93d18030826280aa6bc0810ff00cd4a385271784ee4c46eb} 
SKIDPAD&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AUTOCROSS@{AUTOCROSS}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!AUTOCROSS@{AUTOCROSS}}}\Hypertarget{main_8cpp_a52046db9ef2d3d10b93d18030826280aa75101ac04ae702e4d933997b1d854388}\label{main_8cpp_a52046db9ef2d3d10b93d18030826280aa75101ac04ae702e4d933997b1d854388} 
AUTOCROSS&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TRACKDRIVE@{TRACKDRIVE}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!TRACKDRIVE@{TRACKDRIVE}}}\Hypertarget{main_8cpp_a52046db9ef2d3d10b93d18030826280aacd54d652c407892c09d1c0394be11a18}\label{main_8cpp_a52046db9ef2d3d10b93d18030826280aacd54d652c407892c09d1c0394be11a18} 
TRACKDRIVE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{EBS\_TEST@{EBS\_TEST}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!EBS\_TEST@{EBS\_TEST}}}\Hypertarget{main_8cpp_a52046db9ef2d3d10b93d18030826280aa600401a2aada0e65f36f57f235aa473d}\label{main_8cpp_a52046db9ef2d3d10b93d18030826280aa600401a2aada0e65f36f57f235aa473d} 
EBS\+\_\+\+TEST&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{INSPECTION@{INSPECTION}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!INSPECTION@{INSPECTION}}}\Hypertarget{main_8cpp_a52046db9ef2d3d10b93d18030826280aace8b34ffaf92d0e32f8d3e9aae65831a}\label{main_8cpp_a52046db9ef2d3d10b93d18030826280aace8b34ffaf92d0e32f8d3e9aae65831a} 
INSPECTION&\\
\hline

\end{DoxyEnumFields}
\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3}\index{main.cpp@{main.cpp}!INITIAL\_SEQUENCE\_STATE\_t@{INITIAL\_SEQUENCE\_STATE\_t}}
\index{INITIAL\_SEQUENCE\_STATE\_t@{INITIAL\_SEQUENCE\_STATE\_t}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{INITIAL\_SEQUENCE\_STATE\_t}{INITIAL\_SEQUENCE\_STATE\_t}}
{\footnotesize\ttfamily \label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3} 
enum \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3}{INITIAL\+\_\+\+SEQUENCE\+\_\+\+STATE\+\_\+t}}}

\begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{WDT\_TOOGLE\_CHECK@{WDT\_TOOGLE\_CHECK}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!WDT\_TOOGLE\_CHECK@{WDT\_TOOGLE\_CHECK}}}\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a7244ab7bd10a7aa61a004bfb8c303326}\label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a7244ab7bd10a7aa61a004bfb8c303326} 
WDT\+\_\+\+TOOGLE\+\_\+\+CHECK&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{WDT\_STP\_TOOGLE\_CHECK@{WDT\_STP\_TOOGLE\_CHECK}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!WDT\_STP\_TOOGLE\_CHECK@{WDT\_STP\_TOOGLE\_CHECK}}}\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3af21ad4fd97f8558604a23ed6ca9154b0}\label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3af21ad4fd97f8558604a23ed6ca9154b0} 
WDT\+\_\+\+STP\+\_\+\+TOOGLE\+\_\+\+CHECK&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{PNEUMATIC\_CHECK@{PNEUMATIC\_CHECK}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!PNEUMATIC\_CHECK@{PNEUMATIC\_CHECK}}}\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a59fb30c257d020c5d58b4b90932cd6e4}\label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a59fb30c257d020c5d58b4b90932cd6e4} 
PNEUMATIC\+\_\+\+CHECK&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{PRESSURE\_CHECK1@{PRESSURE\_CHECK1}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!PRESSURE\_CHECK1@{PRESSURE\_CHECK1}}}\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3ae0a05a0d6b2e17a818881ea075b6ffbc}\label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3ae0a05a0d6b2e17a818881ea075b6ffbc} 
PRESSURE\+\_\+\+CHECK1&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{IGNITON@{IGNITON}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!IGNITON@{IGNITON}}}\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a9b05aee3f9d619c04ce9beead9a66ca7}\label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a9b05aee3f9d619c04ce9beead9a66ca7} 
IGNITON&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{PRESSURE\_CHECK\_FRONT@{PRESSURE\_CHECK\_FRONT}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!PRESSURE\_CHECK\_FRONT@{PRESSURE\_CHECK\_FRONT}}}\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3ae82a7b620a6330069cdfec7997a51bab}\label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3ae82a7b620a6330069cdfec7997a51bab} 
PRESSURE\+\_\+\+CHECK\+\_\+\+FRONT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{PRESSURE\_CHECK\_REAR@{PRESSURE\_CHECK\_REAR}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!PRESSURE\_CHECK\_REAR@{PRESSURE\_CHECK\_REAR}}}\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a723570e312c64fca3b60b9e6af97b277}\label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a723570e312c64fca3b60b9e6af97b277} 
PRESSURE\+\_\+\+CHECK\+\_\+\+REAR&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{PRESSURE\_CHECK2@{PRESSURE\_CHECK2}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!PRESSURE\_CHECK2@{PRESSURE\_CHECK2}}}\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a1713c4158314e54ead4d3cf29f501ee2}\label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a1713c4158314e54ead4d3cf29f501ee2} 
PRESSURE\+\_\+\+CHECK2&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ERROR@{ERROR}!main.cpp@{main.cpp}}\index{main.cpp@{main.cpp}!ERROR@{ERROR}}}\Hypertarget{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a2fd6f336d08340583bd620a7f5694c90}\label{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a2fd6f336d08340583bd620a7f5694c90} 
ERROR&\\
\hline

\end{DoxyEnumFields}


\label{doc-func-members}
\Hypertarget{main_8cpp_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{main_8cpp_ad7ca1335f3784986a9e2ba85d381aa29}\index{main.cpp@{main.cpp}!ASSI@{ASSI}}
\index{ASSI@{ASSI}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{ASSI()}{ASSI()}}
{\footnotesize\ttfamily \label{main_8cpp_ad7ca1335f3784986a9e2ba85d381aa29} 
void ASSI (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Controls the state of the YELLOW\+\_\+\+LEDS and BLUE\+\_\+\+LEDS based on the current as\+\_\+state. 

This function manages the visual indication of the system\textquotesingle{}s state by toggling or setting the YELLOW\+\_\+\+LEDS and BLUE\+\_\+\+LEDS according to the value of the as\+\_\+state variable. The behavior for each state is as follows\+:
\begin{DoxyItemize}
\item AS\+\_\+\+STATE\+\_\+\+OFF\+: Turns off both YELLOW\+\_\+\+LEDS and BLUE\+\_\+\+LEDS.
\item AS\+\_\+\+STATE\+\_\+\+READY\+: Turns on YELLOW\+\_\+\+LEDS and turns off BLUE\+\_\+\+LEDS.
\item AS\+\_\+\+STATE\+\_\+\+DRIVING\+: Toggles YELLOW\+\_\+\+LEDS every 500 ms, keeps BLUE\+\_\+\+LEDS off.
\item AS\+\_\+\+STATE\+\_\+\+EMERGENCY\+: Toggles BLUE\+\_\+\+LEDS every 500 ms, keeps YELLOW\+\_\+\+LEDS off.
\item AS\+\_\+\+STATE\+\_\+\+FINISHED\+: Turns off YELLOW\+\_\+\+LEDS and turns on BLUE\+\_\+\+LEDS.
\item Default\+: Turns off both YELLOW\+\_\+\+LEDS and BLUE\+\_\+\+LEDS.
\end{DoxyItemize}

Timing for toggling is managed using ASSI\+\_\+\+YELLOW\+\_\+time and ASSI\+\_\+\+BLUE\+\_\+time variables.

\begin{DoxyNote}{Note}
This function assumes that as\+\_\+state, ASSI\+\_\+\+YELLOW\+\_\+time, and ASSI\+\_\+\+BLUE\+\_\+time are defined and accessible in the current scope, and that digital\+Write, digital\+Read, and millis functions are available (e.\+g., in an Arduino environment). 
\end{DoxyNote}
\Hypertarget{main_8cpp_a10b1d3447930037733d9dc0f5dc66ba3}\index{main.cpp@{main.cpp}!canISR@{canISR}}
\index{canISR@{canISR}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{canISR()}{canISR()}}
{\footnotesize\ttfamily \label{main_8cpp_a10b1d3447930037733d9dc0f5dc66ba3} 
void can\+ISR (\begin{DoxyParamCaption}\item[{const CAN\+\_\+message\+\_\+t \&}]{msg}{}\end{DoxyParamCaption})}



CAN receive interrupt callback. 

When a can message is received, this function is called to process the message. It decodes the message based on its ID and updates the system state accordingly. \begin{DoxyNote}{Note}
This function is called from the Flex\+CAN\+\_\+\+T4 library\textquotesingle{}s interrupt handler. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em msg} & The received CAN message \\
\hline
\end{DoxyParams}
\Hypertarget{main_8cpp_a4c8e051451b4e34f5252115abb20f204}\index{main.cpp@{main.cpp}!check\_ignition@{check\_ignition}}
\index{check\_ignition@{check\_ignition}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{check\_ignition()}{check\_ignition()}}
{\footnotesize\ttfamily \label{main_8cpp_a4c8e051451b4e34f5252115abb20f204} 
void check\+\_\+ignition (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Debounces and checks the ignition input signal. 

This function reads the current state of the ignition pin (IGN\+\_\+\+PIN) and applies a debounce algorithm to filter out spurious changes due to mechanical switch noise. It updates the ignition\+\_\+flag based on the debounced state and the ignition\+\_\+enable flag.

\begin{DoxyNote}{Note}
Variables used\+: 

-\/ last\+\_\+debounce\+\_\+time (static)\+: Stores the last time the ignition input changed, used for debouncing. 

-\/ debounce\+\_\+delay (const)\+: The debounce interval in milliseconds. 

-\/ current\+\_\+state\+: The current raw reading from the ignition pin. 

-\/ last\+\_\+ign\+\_\+state (external)\+: The last raw state read from the ignition pin. 

-\/ debounced\+\_\+ign\+\_\+state (external)\+: The last debounced state of the ignition pin. 

-\/ ignition\+\_\+flag (external)\+: Set to 1 if ignition is ON and enabled, otherwise 0. 

-\/ ignition\+\_\+enable (external)\+: Enables or disables the ignition logic.
\end{DoxyNote}
The function ensures that ignition\+\_\+flag is set only if the ignition input is HIGH and ignition\+\_\+enable is true, providing reliable ignition state detection. \Hypertarget{main_8cpp_aeabeb8f2cc848d690e00b50345563597}\index{main.cpp@{main.cpp}!HandleState@{HandleState}}
\index{HandleState@{HandleState}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{HandleState()}{HandleState()}}
{\footnotesize\ttfamily \label{main_8cpp_aeabeb8f2cc848d690e00b50345563597} 
void Handle\+State (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Handle actions specific to the current state. 

\Hypertarget{main_8cpp_af5410939209e53fe97278767aee5d5b0}\index{main.cpp@{main.cpp}!initial\_sequence@{initial\_sequence}}
\index{initial\_sequence@{initial\_sequence}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{initial\_sequence()}{initial\_sequence()}}
{\footnotesize\ttfamily \label{main_8cpp_af5410939209e53fe97278767aee5d5b0} 
void initial\+\_\+sequence (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{main_8cpp_a80b90abfd46377a13c1ac43648bb3624}\index{main.cpp@{main.cpp}!led\_heartbit@{led\_heartbit}}
\index{led\_heartbit@{led\_heartbit}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{led\_heartbit()}{led\_heartbit()}}
{\footnotesize\ttfamily \label{main_8cpp_a80b90abfd46377a13c1ac43648bb3624} 
void led\+\_\+heartbit (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{main_8cpp_afe461d27b9c48d5921c00d521181f12f}\index{main.cpp@{main.cpp}!loop@{loop}}
\index{loop@{loop}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{loop()}{loop()}}
{\footnotesize\ttfamily \label{main_8cpp_afe461d27b9c48d5921c00d521181f12f} 
void loop (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{main_8cpp_a8b77b8c8d4f003bea2fa1df64c7dd946}\index{main.cpp@{main.cpp}!median\_pressures@{median\_pressures}}
\index{median\_pressures@{median\_pressures}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{median\_pressures()}{median\_pressures()}}
{\footnotesize\ttfamily \label{main_8cpp_a8b77b8c8d4f003bea2fa1df64c7dd946} 
void median\+\_\+pressures (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{main_8cpp_aa79651decaade86f3f99ac7d213f588d}\index{main.cpp@{main.cpp}!Mission\_Indicator@{Mission\_Indicator}}
\index{Mission\_Indicator@{Mission\_Indicator}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Mission\_Indicator()}{Mission\_Indicator()}}
{\footnotesize\ttfamily \label{main_8cpp_aa79651decaade86f3f99ac7d213f588d} 
void Mission\+\_\+\+Indicator (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Updates the mission indicator LEDs based on the current mission state. 

This function sets the state of each mission status LED (MS\+\_\+\+LED1 to MS\+\_\+\+LED7) to indicate the currently active mission. Each mission mode corresponds to a unique LED pattern, where one LED is turned on to represent the active mission, and the others are turned off (logic HIGH). If the mission state is not recognized, all LEDs are turned off by default. \Hypertarget{main_8cpp_a9276a0e4f94fc527943d2ccc75986801}\index{main.cpp@{main.cpp}!peripheral\_init@{peripheral\_init}}
\index{peripheral\_init@{peripheral\_init}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{peripheral\_init()}{peripheral\_init()}}
{\footnotesize\ttfamily \label{main_8cpp_a9276a0e4f94fc527943d2ccc75986801} 
void peripheral\+\_\+init (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Initialize peripherals and pins. 

\Hypertarget{main_8cpp_a41a2ef81f321319f1f2fd450ab85d3a2}\index{main.cpp@{main.cpp}!Pressure\_readings@{Pressure\_readings}}
\index{Pressure\_readings@{Pressure\_readings}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Pressure\_readings()}{Pressure\_readings()}}
{\footnotesize\ttfamily \label{main_8cpp_a41a2ef81f321319f1f2fd450ab85d3a2} 
void Pressure\+\_\+readings (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Read pressure sensors and update system state. 

\Hypertarget{main_8cpp_a365a7ca4b4550d949262a3dbbed122ac}\index{main.cpp@{main.cpp}!print\_state\_transition@{print\_state\_transition}}
\index{print\_state\_transition@{print\_state\_transition}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{print\_state\_transition()}{print\_state\_transition()}}
{\footnotesize\ttfamily \label{main_8cpp_a365a7ca4b4550d949262a3dbbed122ac} 
void print\+\_\+state\+\_\+transition (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}}}]{from}{, }\item[{\mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}}}]{to}{}\end{DoxyParamCaption})}



Print state transition for debugging. 


\begin{DoxyParams}{Parameters}
{\em from} & Previous state \\
\hline
{\em to} & New state \\
\hline
\end{DoxyParams}
\Hypertarget{main_8cpp_af5b02dc36a29cc8a9cecafe91de92888}\index{main.cpp@{main.cpp}!send\_can\_msg@{send\_can\_msg}}
\index{send\_can\_msg@{send\_can\_msg}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{send\_can\_msg()}{send\_can\_msg()}}
{\footnotesize\ttfamily \label{main_8cpp_af5b02dc36a29cc8a9cecafe91de92888} 
void send\+\_\+can\+\_\+msg (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Send CAN messages based on system state. 

\Hypertarget{main_8cpp_a4fc01d736fe50cf5b977f755b675f11d}\index{main.cpp@{main.cpp}!setup@{setup}}
\index{setup@{setup}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily \label{main_8cpp_a4fc01d736fe50cf5b977f755b675f11d} 
void setup (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{main_8cpp_ab720bd133a6801af067982496780e6fe}\index{main.cpp@{main.cpp}!UpdateState@{UpdateState}}
\index{UpdateState@{UpdateState}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{UpdateState()}{UpdateState()}}
{\footnotesize\ttfamily \label{main_8cpp_ab720bd133a6801af067982496780e6fe} 
void Update\+State (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Update the state of the ACU based on inputs and conditions. 



\label{doc-var-members}
\Hypertarget{main_8cpp_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{main_8cpp_a47d7962c88cb9433a97f866a17deb982}\index{main.cpp@{main.cpp}!adc\_pointer@{adc\_pointer}}
\index{adc\_pointer@{adc\_pointer}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{adc\_pointer}{adc\_pointer}}
{\footnotesize\ttfamily \label{main_8cpp_a47d7962c88cb9433a97f866a17deb982} 
uint8\+\_\+t adc\+\_\+pointer = 0}



Pointer for pressure readings buffer. 

Used in \doxylink{main_8cpp_a41a2ef81f321319f1f2fd450ab85d3a2}{Pressure\+\_\+readings()} to cycle through EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+A\+\_\+values and EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+B\+\_\+values. \Hypertarget{main_8cpp_aaccce5c0bd5ecff1acf7c58af82c6e5e}\index{main.cpp@{main.cpp}!AMI\_status@{AMI\_status}}
\index{AMI\_status@{AMI\_status}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{AMI\_status}{AMI\_status}}
{\footnotesize\ttfamily \label{main_8cpp_aaccce5c0bd5ecff1acf7c58af82c6e5e} 
uint8\+\_\+t AMI\+\_\+status = 0}

\Hypertarget{main_8cpp_aa8c722e07ffdeb05300c835290553e91}\index{main.cpp@{main.cpp}!as\_state@{as\_state}}
\index{as\_state@{as\_state}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{as\_state}{as\_state}}
{\footnotesize\ttfamily \label{main_8cpp_aa8c722e07ffdeb05300c835290553e91} 
volatile \mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291}{AS\+\_\+\+STATE\+\_\+t}} as\+\_\+state = \mbox{\hyperlink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291acebdef96c5ee4caa7e8635f29742c4e2}{AS\+\_\+\+STATE\+\_\+\+OFF}}}

\Hypertarget{main_8cpp_ac663409b4ba67ef30f6156495a5b563a}\index{main.cpp@{main.cpp}!as\_status@{as\_status}}
\index{as\_status@{as\_status}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{as\_status}{as\_status}}
{\footnotesize\ttfamily \label{main_8cpp_ac663409b4ba67ef30f6156495a5b563a} 
uint8\+\_\+t as\+\_\+status = 1}



Handbook variables that are sent to can bus -\/\texorpdfstring{$>$}{>} DV system status FSG Handbook 2025 page 20. 


\begin{DoxyParams}{Parameters}
{\em as\+\_\+status} & Autonomous system status (3 bits) -\/\texorpdfstring{$>$}{>} \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\doxylink{main_8cpp_a9c37b122762e5d8b803b3ee44e747291}{AS\+\_\+\+STATE\+\_\+t} 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em EBS\+\_\+status} & Emergency Braking System status (2 bits) \\
\hline
{\em AMI\+\_\+status} & Autonomous Mission Indicator status (3 bits) -\/\texorpdfstring{$>$}{>} \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\doxylink{main_8cpp_ae2ec9a09baa570c057ea6d1eccd73144}{current\+\_\+mission} 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em Steering\+\_\+state} & Current steering state (1 bit) -\/\texorpdfstring{$>$}{>} true if steering is engaged \\
\hline
{\em ASB\+\_\+redundancy} & Autonomous System Backup status (2 bits) \\
\hline
{\em Lap\+\_\+counter} & Current lap counter value (4 bits) \\
\hline
{\em cones\+\_\+count\+\_\+actual} & Current count of cones detected 8 bits) \\
\hline
{\em cones\+\_\+count} & Total count of cones detected (16 bits)\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ID 0x501 
\end{DoxyNote}
\Hypertarget{main_8cpp_ade5cf5131cd129b4b68313ef2e4076cc}\index{main.cpp@{main.cpp}!ASB\_redundancy@{ASB\_redundancy}}
\index{ASB\_redundancy@{ASB\_redundancy}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{ASB\_redundancy}{ASB\_redundancy}}
{\footnotesize\ttfamily \label{main_8cpp_ade5cf5131cd129b4b68313ef2e4076cc} 
uint8\+\_\+t ASB\+\_\+redundancy = 0}

\Hypertarget{main_8cpp_ae9c8df67a568afce574646db88f0b5cc}\index{main.cpp@{main.cpp}!asms\_flag@{asms\_flag}}
\index{asms\_flag@{asms\_flag}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{asms\_flag}{asms\_flag}}
{\footnotesize\ttfamily \label{main_8cpp_ae9c8df67a568afce574646db88f0b5cc} 
uint8\+\_\+t asms\+\_\+flag = 0}



Current ASMS (Autonomous System Master Switch) signal state. 

Updated in \doxylink{main_8cpp_afe461d27b9c48d5921c00d521181f12f}{loop()} from digital\+Read(\+ASMS), used in \doxylink{main_8cpp_af5b02dc36a29cc8a9cecafe91de92888}{send\+\_\+can\+\_\+msg()}. \Hypertarget{main_8cpp_aa0537878e941632c4c18f5e20da5ac3f}\index{main.cpp@{main.cpp}!ASSI\_BLUE\_time@{ASSI\_BLUE\_time}}
\index{ASSI\_BLUE\_time@{ASSI\_BLUE\_time}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{ASSI\_BLUE\_time}{ASSI\_BLUE\_time}}
{\footnotesize\ttfamily \label{main_8cpp_aa0537878e941632c4c18f5e20da5ac3f} 
unsigned long ASSI\+\_\+\+BLUE\+\_\+time = 0}



Timestamp for ASSI blue LED blinking. 

Used in \doxylink{main_8cpp_ad7ca1335f3784986a9e2ba85d381aa29}{ASSI()} for timing blue LED blinking in AS\+\_\+\+STATE\+\_\+\+EMERGENCY. \Hypertarget{main_8cpp_a8304abe05c017907297456797ec09109}\index{main.cpp@{main.cpp}!ASSI\_YELLOW\_time@{ASSI\_YELLOW\_time}}
\index{ASSI\_YELLOW\_time@{ASSI\_YELLOW\_time}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{ASSI\_YELLOW\_time}{ASSI\_YELLOW\_time}}
{\footnotesize\ttfamily \label{main_8cpp_a8304abe05c017907297456797ec09109} 
unsigned long ASSI\+\_\+\+YELLOW\+\_\+time = 0}



Timestamp for ASSI yellow LED blinking. 

Used in \doxylink{main_8cpp_ad7ca1335f3784986a9e2ba85d381aa29}{ASSI()} for timing yellow LED blinking in AS\+\_\+\+STATE\+\_\+\+DRIVING. \Hypertarget{main_8cpp_a3bd5756dc55dbfa3ada3d8319a134d4b}\index{main.cpp@{main.cpp}!Brake\_hydr\_actual@{Brake\_hydr\_actual}}
\index{Brake\_hydr\_actual@{Brake\_hydr\_actual}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Brake\_hydr\_actual}{Brake\_hydr\_actual}}
{\footnotesize\ttfamily \label{main_8cpp_a3bd5756dc55dbfa3ada3d8319a134d4b} 
uint8\+\_\+t Brake\+\_\+hydr\+\_\+actual = 0}

\Hypertarget{main_8cpp_a59c47938a517ca38b64ce2df95924c85}\index{main.cpp@{main.cpp}!Brake\_hydr\_target@{Brake\_hydr\_target}}
\index{Brake\_hydr\_target@{Brake\_hydr\_target}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Brake\_hydr\_target}{Brake\_hydr\_target}}
{\footnotesize\ttfamily \label{main_8cpp_a59c47938a517ca38b64ce2df95924c85} 
uint8\+\_\+t Brake\+\_\+hydr\+\_\+target = 0}

\Hypertarget{main_8cpp_ad167169760644f4776109ea0cfe13862}\index{main.cpp@{main.cpp}!CAN@{CAN}}
\index{CAN@{CAN}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{CAN}{CAN}}
{\footnotesize\ttfamily \label{main_8cpp_ad167169760644f4776109ea0cfe13862} 
Flex\+CAN\+\_\+\+T4$<$CAN2, RX\+\_\+\+SIZE\+\_\+1024, TX\+\_\+\+SIZE\+\_\+1024$>$ CAN}

\Hypertarget{main_8cpp_aad9c1d6673f4b146294ecb5c3deb475d}\index{main.cpp@{main.cpp}!CAN\_TIMER@{CAN\_TIMER}}
\index{CAN\_TIMER@{CAN\_TIMER}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{CAN\_TIMER}{CAN\_TIMER}}
{\footnotesize\ttfamily \label{main_8cpp_aad9c1d6673f4b146294ecb5c3deb475d} 
Interval\+Timer CAN\+\_\+\+TIMER}

\Hypertarget{main_8cpp_a5d4f3a3d2fd70f4a9480c69c17594041}\index{main.cpp@{main.cpp}!cones\_count@{cones\_count}}
\index{cones\_count@{cones\_count}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{cones\_count}{cones\_count}}
{\footnotesize\ttfamily \label{main_8cpp_a5d4f3a3d2fd70f4a9480c69c17594041} 
uint16\+\_\+t cones\+\_\+count = 0}

\Hypertarget{main_8cpp_a4fec9983a5cbb27e05df4878d96afb9c}\index{main.cpp@{main.cpp}!cones\_count\_actual@{cones\_count\_actual}}
\index{cones\_count\_actual@{cones\_count\_actual}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{cones\_count\_actual}{cones\_count\_actual}}
{\footnotesize\ttfamily \label{main_8cpp_a4fec9983a5cbb27e05df4878d96afb9c} 
uint8\+\_\+t cones\+\_\+count\+\_\+actual = 0}

\Hypertarget{main_8cpp_ae2ec9a09baa570c057ea6d1eccd73144}\index{main.cpp@{main.cpp}!current\_mission@{current\_mission}}
\index{current\_mission@{current\_mission}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{current\_mission}{current\_mission}}
{\footnotesize\ttfamily \label{main_8cpp_ae2ec9a09baa570c057ea6d1eccd73144} 
\mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280a}{current\+\_\+mission\+\_\+t}} current\+\_\+mission = \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aa506e8dd29460ea318b68d035f679b01b}{MANUAL}}}

\Hypertarget{main_8cpp_a84e205af5a6e985ba0c22f1641565e3d}\index{main.cpp@{main.cpp}!current\_state@{current\_state}}
\index{current\_state@{current\_state}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{current\_state}{current\_state}}
{\footnotesize\ttfamily \label{main_8cpp_a84e205af5a6e985ba0c22f1641565e3d} 
volatile \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}} current\+\_\+state = \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a98d2a2153b4ae0445fa0b114d65b94d9}{STATE\+\_\+\+INIT}}}

\Hypertarget{main_8cpp_a6864ae64ef562241139dde3ee81e4e67}\index{main.cpp@{main.cpp}!EBS\_status@{EBS\_status}}
\index{EBS\_status@{EBS\_status}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{EBS\_status}{EBS\_status}}
{\footnotesize\ttfamily \label{main_8cpp_a6864ae64ef562241139dde3ee81e4e67} 
uint8\+\_\+t EBS\+\_\+status = 0}

\Hypertarget{main_8cpp_a33bc2688ab5de451dd1bb001cbc993e7}\index{main.cpp@{main.cpp}!EBS\_TANK\_PRESSURE\_A\_values@{EBS\_TANK\_PRESSURE\_A\_values}}
\index{EBS\_TANK\_PRESSURE\_A\_values@{EBS\_TANK\_PRESSURE\_A\_values}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{EBS\_TANK\_PRESSURE\_A\_values}{EBS\_TANK\_PRESSURE\_A\_values}}
{\footnotesize\ttfamily \label{main_8cpp_a33bc2688ab5de451dd1bb001cbc993e7} 
float EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+A\+\_\+values\mbox{[}\mbox{\hyperlink{main_8cpp_a645c9463ff569ba10e6278e6931d4466}{PRESSURE\+\_\+\+READINGS}}\mbox{]}}



Array storing recent pressure readings from EBS Tank A. 

This array holds the last PRESSURE\+\_\+\+READINGS number of float values, representing the sampled pressure values from the EBS (Emergency Braking System) Tank A. Updated in \doxylink{main_8cpp_a41a2ef81f321319f1f2fd450ab85d3a2}{Pressure\+\_\+readings()}, used in \doxylink{main_8cpp_a8b77b8c8d4f003bea2fa1df64c7dd946}{median\+\_\+pressures()} for filtering/averaging.

\begin{DoxySeeAlso}{See also}
\doxylink{main_8cpp_acc7c62efa88e9841882cd75fdf78f53a}{EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+B\+\_\+values} 

\doxylink{main_8cpp_a645c9463ff569ba10e6278e6931d4466}{PRESSURE\+\_\+\+READINGS} 
\end{DoxySeeAlso}
\Hypertarget{main_8cpp_acc7c62efa88e9841882cd75fdf78f53a}\index{main.cpp@{main.cpp}!EBS\_TANK\_PRESSURE\_B\_values@{EBS\_TANK\_PRESSURE\_B\_values}}
\index{EBS\_TANK\_PRESSURE\_B\_values@{EBS\_TANK\_PRESSURE\_B\_values}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{EBS\_TANK\_PRESSURE\_B\_values}{EBS\_TANK\_PRESSURE\_B\_values}}
{\footnotesize\ttfamily \label{main_8cpp_acc7c62efa88e9841882cd75fdf78f53a} 
float EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+B\+\_\+values\mbox{[}\mbox{\hyperlink{main_8cpp_a645c9463ff569ba10e6278e6931d4466}{PRESSURE\+\_\+\+READINGS}}\mbox{]}}



Array storing recent pressure readings from EBS Tank B. 

This array holds the last PRESSURE\+\_\+\+READINGS number of float values, representing the sampled pressure values from the EBS (Emergency Braking System) Tank B. Updated in \doxylink{main_8cpp_a41a2ef81f321319f1f2fd450ab85d3a2}{Pressure\+\_\+readings()}, used in \doxylink{main_8cpp_a8b77b8c8d4f003bea2fa1df64c7dd946}{median\+\_\+pressures()} for filtering/averaging.

\begin{DoxySeeAlso}{See also}
\doxylink{main_8cpp_a33bc2688ab5de451dd1bb001cbc993e7}{EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+A\+\_\+values} 

\doxylink{main_8cpp_a645c9463ff569ba10e6278e6931d4466}{PRESSURE\+\_\+\+READINGS} 
\end{DoxySeeAlso}
\Hypertarget{main_8cpp_a615a71b2b81b6d4b4222f65c3455269d}\index{main.cpp@{main.cpp}!emergency\_flag@{emergency\_flag}}
\index{emergency\_flag@{emergency\_flag}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{emergency\_flag}{emergency\_flag}}
{\footnotesize\ttfamily \label{main_8cpp_a615a71b2b81b6d4b4222f65c3455269d} 
uint8\+\_\+t emergency\+\_\+flag = 0}



Flag to indicate emergency state. 

Set in \doxylink{main_8cpp_aeabeb8f2cc848d690e00b50345563597}{Handle\+State()} and \doxylink{main_8cpp_ab720bd133a6801af067982496780e6fe}{Update\+State()}, used in \doxylink{main_8cpp_af5b02dc36a29cc8a9cecafe91de92888}{send\+\_\+can\+\_\+msg()}. \Hypertarget{main_8cpp_aeddd43bbb23b16018d6ae66ce378d43b}\index{main.cpp@{main.cpp}!emergency\_timestamp@{emergency\_timestamp}}
\index{emergency\_timestamp@{emergency\_timestamp}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{emergency\_timestamp}{emergency\_timestamp}}
{\footnotesize\ttfamily \label{main_8cpp_aeddd43bbb23b16018d6ae66ce378d43b} 
unsigned long emergency\+\_\+timestamp = 0}



Timestamp for entering emergency state. 

Set in \doxylink{main_8cpp_ab720bd133a6801af067982496780e6fe}{Update\+State()} when entering STATE\+\_\+\+EMERGENCY, used in \doxylink{main_8cpp_aeabeb8f2cc848d690e00b50345563597}{Handle\+State()} for timeout. \Hypertarget{main_8cpp_aee5c37d99841325356136abf5b12d12b}\index{main.cpp@{main.cpp}!HeartBit@{HeartBit}}
\index{HeartBit@{HeartBit}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{HeartBit}{HeartBit}}
{\footnotesize\ttfamily \label{main_8cpp_aee5c37d99841325356136abf5b12d12b} 
unsigned long Heart\+Bit = 0}

\Hypertarget{main_8cpp_a460ba729c34672a0fb2c9a5d51e9ddc0}\index{main.cpp@{main.cpp}!HYDRAULIC\_PRESSURE\_FRONT@{HYDRAULIC\_PRESSURE\_FRONT}}
\index{HYDRAULIC\_PRESSURE\_FRONT@{HYDRAULIC\_PRESSURE\_FRONT}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{HYDRAULIC\_PRESSURE\_FRONT}{HYDRAULIC\_PRESSURE\_FRONT}}
{\footnotesize\ttfamily \label{main_8cpp_a460ba729c34672a0fb2c9a5d51e9ddc0} 
float HYDRAULIC\+\_\+\+PRESSURE\+\_\+\+FRONT = 0}



Hydraulic pressure value for front brakes (in bar). 

Updated in \doxylink{main_8cpp_a10b1d3447930037733d9dc0f5dc66ba3}{can\+ISR()} from CAN message AUTONOMOUS\+\_\+\+TEMPORARY\+\_\+\+VCU\+\_\+\+HV\+\_\+\+FRAME\+\_\+\+ID. Used in \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()} for pressure checks. \Hypertarget{main_8cpp_a154a38361e68d4995a2a560dc168886b}\index{main.cpp@{main.cpp}!HYDRAULIC\_PRESSURE\_REAR@{HYDRAULIC\_PRESSURE\_REAR}}
\index{HYDRAULIC\_PRESSURE\_REAR@{HYDRAULIC\_PRESSURE\_REAR}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{HYDRAULIC\_PRESSURE\_REAR}{HYDRAULIC\_PRESSURE\_REAR}}
{\footnotesize\ttfamily \label{main_8cpp_a154a38361e68d4995a2a560dc168886b} 
float HYDRAULIC\+\_\+\+PRESSURE\+\_\+\+REAR = 0}



Hydraulic pressure value for rear brakes (in bar). 

Updated in \doxylink{main_8cpp_a10b1d3447930037733d9dc0f5dc66ba3}{can\+ISR()} from CAN message AUTONOMOUS\+\_\+\+TEMPORARY\+\_\+\+VCU\+\_\+\+HV\+\_\+\+FRAME\+\_\+\+ID. Used in \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()} for pressure checks. \Hypertarget{main_8cpp_a03f2a85cd17091c0ce3d5ce2746f9569}\index{main.cpp@{main.cpp}!ignition\_enable@{ignition\_enable}}
\index{ignition\_enable@{ignition\_enable}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{ignition\_enable}{ignition\_enable}}
{\footnotesize\ttfamily \label{main_8cpp_a03f2a85cd17091c0ce3d5ce2746f9569} 
uint8\+\_\+t ignition\+\_\+enable = 0}



Flag to enable ignition logic. 

Set in \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()}, used in \doxylink{main_8cpp_a4c8e051451b4e34f5252115abb20f204}{check\+\_\+ignition()}. \Hypertarget{main_8cpp_aa7b9be753331de0e38c38e092d0b57b0}\index{main.cpp@{main.cpp}!ignition\_flag@{ignition\_flag}}
\index{ignition\_flag@{ignition\_flag}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{ignition\_flag}{ignition\_flag}}
{\footnotesize\ttfamily \label{main_8cpp_aa7b9be753331de0e38c38e092d0b57b0} 
uint8\+\_\+t ignition\+\_\+flag = 0}



Flag to indicate ignition signal. 

Updated in \doxylink{main_8cpp_a4c8e051451b4e34f5252115abb20f204}{check\+\_\+ignition()}, used in \doxylink{main_8cpp_af5b02dc36a29cc8a9cecafe91de92888}{send\+\_\+can\+\_\+msg()}, \doxylink{main_8cpp_aeabeb8f2cc848d690e00b50345563597}{Handle\+State()}, and \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()}. \Hypertarget{main_8cpp_abe9633c73cd204b6b48b52a7e4e67696}\index{main.cpp@{main.cpp}!ignition\_vcu@{ignition\_vcu}}
\index{ignition\_vcu@{ignition\_vcu}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{ignition\_vcu}{ignition\_vcu}}
{\footnotesize\ttfamily \label{main_8cpp_abe9633c73cd204b6b48b52a7e4e67696} 
uint8\+\_\+t ignition\+\_\+vcu = 0}



Ignition signal state from VCU. 

Updated in \doxylink{main_8cpp_a10b1d3447930037733d9dc0f5dc66ba3}{can\+ISR()} from CAN message AUTONOMOUS\+\_\+\+TEMPORARY\+\_\+\+VCU\+\_\+\+HV\+\_\+\+FRAME\+\_\+\+ID. Used in \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()}. \Hypertarget{main_8cpp_aa325f69e89b0af5d6342911e2bafda87}\index{main.cpp@{main.cpp}!initial\_sequence\_state@{initial\_sequence\_state}}
\index{initial\_sequence\_state@{initial\_sequence\_state}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{initial\_sequence\_state}{initial\_sequence\_state}}
{\footnotesize\ttfamily \label{main_8cpp_aa325f69e89b0af5d6342911e2bafda87} 
\mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3}{INITIAL\+\_\+\+SEQUENCE\+\_\+\+STATE\+\_\+t}} initial\+\_\+sequence\+\_\+state = \mbox{\hyperlink{main_8cpp_a3ccfa3b166b4ba0bdd2107a842e894e3a9b05aee3f9d619c04ce9beead9a66ca7}{IGNITON}}}

\Hypertarget{main_8cpp_afe9b6925097805059631c6391b043688}\index{main.cpp@{main.cpp}!jetson\_mission@{jetson\_mission}}
\index{jetson\_mission@{jetson\_mission}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{jetson\_mission}{jetson\_mission}}
{\footnotesize\ttfamily \label{main_8cpp_afe9b6925097805059631c6391b043688} 
\mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280a}{current\+\_\+mission\+\_\+t}} jetson\+\_\+mission = \mbox{\hyperlink{main_8cpp_a52046db9ef2d3d10b93d18030826280aa506e8dd29460ea318b68d035f679b01b}{MANUAL}}}

\Hypertarget{main_8cpp_aa65f1d3faf0dc1a57ed60dd811070ec4}\index{main.cpp@{main.cpp}!Lap\_counter@{Lap\_counter}}
\index{Lap\_counter@{Lap\_counter}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Lap\_counter}{Lap\_counter}}
{\footnotesize\ttfamily \label{main_8cpp_aa65f1d3faf0dc1a57ed60dd811070ec4} 
uint8\+\_\+t Lap\+\_\+counter = 0}

\Hypertarget{main_8cpp_abd5a48e208e80017eaac10fc7bbcf9fa}\index{main.cpp@{main.cpp}!last\_button\_time\_ms@{last\_button\_time\_ms}}
\index{last\_button\_time\_ms@{last\_button\_time\_ms}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{last\_button\_time\_ms}{last\_button\_time\_ms}}
{\footnotesize\ttfamily \label{main_8cpp_abd5a48e208e80017eaac10fc7bbcf9fa} 
unsigned long last\+\_\+button\+\_\+time\+\_\+ms = 0}



Last button press time in milliseconds. 

Used in \doxylink{main_8cpp_aeabeb8f2cc848d690e00b50345563597}{Handle\+State()} for mission selection button debounce. \Hypertarget{main_8cpp_a65875a2bae11dcf46dcbc32641e22d46}\index{main.cpp@{main.cpp}!Motor\_moment\_actual@{Motor\_moment\_actual}}
\index{Motor\_moment\_actual@{Motor\_moment\_actual}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Motor\_moment\_actual}{Motor\_moment\_actual}}
{\footnotesize\ttfamily \label{main_8cpp_a65875a2bae11dcf46dcbc32641e22d46} 
uint8\+\_\+t Motor\+\_\+moment\+\_\+actual = 0}

\Hypertarget{main_8cpp_a326df945948d6e09603887fef61a1dce}\index{main.cpp@{main.cpp}!Motor\_moment\_target@{Motor\_moment\_target}}
\index{Motor\_moment\_target@{Motor\_moment\_target}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Motor\_moment\_target}{Motor\_moment\_target}}
{\footnotesize\ttfamily \label{main_8cpp_a326df945948d6e09603887fef61a1dce} 
uint8\+\_\+t Motor\+\_\+moment\+\_\+target = 0}

\Hypertarget{main_8cpp_a25b1e1dfb81549003e43a4e8862fa2c1}\index{main.cpp@{main.cpp}!pressure\_check\_delay@{pressure\_check\_delay}}
\index{pressure\_check\_delay@{pressure\_check\_delay}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{pressure\_check\_delay}{pressure\_check\_delay}}
{\footnotesize\ttfamily \label{main_8cpp_a25b1e1dfb81549003e43a4e8862fa2c1} 
unsigned long pressure\+\_\+check\+\_\+delay = 0}



Delay for pressure check timing. 

Used in \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()} to measure elapsed time for pressure checks. \Hypertarget{main_8cpp_a27704d3b3dc2314a6a46697028ea9084}\index{main.cpp@{main.cpp}!PRESSURE\_TIMER@{PRESSURE\_TIMER}}
\index{PRESSURE\_TIMER@{PRESSURE\_TIMER}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{PRESSURE\_TIMER}{PRESSURE\_TIMER}}
{\footnotesize\ttfamily \label{main_8cpp_a27704d3b3dc2314a6a46697028ea9084} 
Interval\+Timer PRESSURE\+\_\+\+TIMER}

\Hypertarget{main_8cpp_a1d1c453a64c31b777d9f1cb48e1f8ff7}\index{main.cpp@{main.cpp}!previous\_state@{previous\_state}}
\index{previous\_state@{previous\_state}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{previous\_state}{previous\_state}}
{\footnotesize\ttfamily \label{main_8cpp_a1d1c453a64c31b777d9f1cb48e1f8ff7} 
volatile \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027}{ACU\+\_\+\+STATE\+\_\+t}} previous\+\_\+state = \mbox{\hyperlink{main_8cpp_a915949d2c2451633e1b1fbbd74a7b027a98d2a2153b4ae0445fa0b114d65b94d9}{STATE\+\_\+\+INIT}}}

\Hypertarget{main_8cpp_acce35ce6efd55f2adb37b91e886ebc04}\index{main.cpp@{main.cpp}!res\_active@{res\_active}}
\index{res\_active@{res\_active}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{res\_active}{res\_active}}
{\footnotesize\ttfamily \label{main_8cpp_acce35ce6efd55f2adb37b91e886ebc04} 
volatile bool res\+\_\+active = false}



Flag to indicate if response from AS is active. 

Updated in \doxylink{main_8cpp_a10b1d3447930037733d9dc0f5dc66ba3}{can\+ISR()}, used in \doxylink{main_8cpp_aeabeb8f2cc848d690e00b50345563597}{Handle\+State()} and mission selection logic. \Hypertarget{main_8cpp_a2e5a501df5392a203c113a3381817fbf}\index{main.cpp@{main.cpp}!res\_emergency@{res\_emergency}}
\index{res\_emergency@{res\_emergency}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{res\_emergency}{res\_emergency}}
{\footnotesize\ttfamily \label{main_8cpp_a2e5a501df5392a203c113a3381817fbf} 
volatile uint8\+\_\+t res\+\_\+emergency = 0}



Emergency response from AS (Autonomous System). 

Updated in \doxylink{main_8cpp_a10b1d3447930037733d9dc0f5dc66ba3}{can\+ISR()} from CAN message AUTONOMOUS\+\_\+\+TEMPORARY\+\_\+\+RES\+\_\+\+FRAME\+\_\+\+ID. Used in \doxylink{main_8cpp_aeabeb8f2cc848d690e00b50345563597}{Handle\+State()} and \doxylink{main_8cpp_ab720bd133a6801af067982496780e6fe}{Update\+State()}. \Hypertarget{main_8cpp_a7e01c2a42f6ff68b1cad1418014f3add}\index{main.cpp@{main.cpp}!Speed\_actual@{Speed\_actual}}
\index{Speed\_actual@{Speed\_actual}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Speed\_actual}{Speed\_actual}}
{\footnotesize\ttfamily \label{main_8cpp_a7e01c2a42f6ff68b1cad1418014f3add} 
uint8\+\_\+t Speed\+\_\+actual = 0}



Handbook variables that are sent to can bus -\/\texorpdfstring{$>$}{>} DV driving dynamics 1 FSG Handbook 2025 page 20. 


\begin{DoxyParams}{Parameters}
{\em speed\+\_\+actual} & Current speed of the vehicle 0.\+5 scale \\
\hline
{\em speed\+\_\+target} & Target speed of the vehicle 0.\+5 scale \\
\hline
{\em steering\+\_\+angle\+\_\+actual} & Current steering angle of the vehicle 0.\+5 scale \\
\hline
{\em steering\+\_\+angle\+\_\+target} & Target steering angle of the vehicle 0.\+5 scale \\
\hline
{\em brake\+\_\+hydr\+\_\+actual} & Current hydraulic brake pressure 0.\+5 scale \\
\hline
{\em brake\+\_\+hydr\+\_\+target} & Target hydraulic brake pressure 0.\+5 scale \\
\hline
{\em motor\+\_\+moment\+\_\+actual} & Current motor moment 0.\+5 scale \\
\hline
{\em motor\+\_\+moment\+\_\+target} & Target motor moment 0.\+5 scale \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
0,5 scale 

ID 0x500 
\end{DoxyNote}
\Hypertarget{main_8cpp_abf8cc411bea715a48eb3d853adc29009}\index{main.cpp@{main.cpp}!Speed\_target@{Speed\_target}}
\index{Speed\_target@{Speed\_target}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Speed\_target}{Speed\_target}}
{\footnotesize\ttfamily \label{main_8cpp_abf8cc411bea715a48eb3d853adc29009} 
uint8\+\_\+t Speed\+\_\+target = 0}

\Hypertarget{main_8cpp_afc8e27fc9a2dc86341a3c0c5ae2809da}\index{main.cpp@{main.cpp}!state\_names@{state\_names}}
\index{state\_names@{state\_names}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{state\_names}{state\_names}}
{\footnotesize\ttfamily \label{main_8cpp_afc8e27fc9a2dc86341a3c0c5ae2809da} 
const char\texorpdfstring{$\ast$}{*} state\+\_\+names\mbox{[}$\,$\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}STATE\_INIT"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}STATE\_Mission\_Select"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}STATE\_INITIAL\_SEQUENCE"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}STATE\_READY"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}STATE\_DRIVING"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}STATE\_EBS\_ERROR"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}STATE\_EMERGENCY"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}STATE\_FINISHED"{}}\}}

\end{DoxyCode}
\Hypertarget{main_8cpp_a853324ec6c561f4c32a7acfec48b8c0e}\index{main.cpp@{main.cpp}!Steering\_angle\_actual@{Steering\_angle\_actual}}
\index{Steering\_angle\_actual@{Steering\_angle\_actual}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Steering\_angle\_actual}{Steering\_angle\_actual}}
{\footnotesize\ttfamily \label{main_8cpp_a853324ec6c561f4c32a7acfec48b8c0e} 
uint8\+\_\+t Steering\+\_\+angle\+\_\+actual = 0}

\Hypertarget{main_8cpp_a5b8c589ff5901ddd67657fa2027651e5}\index{main.cpp@{main.cpp}!Steering\_angle\_target@{Steering\_angle\_target}}
\index{Steering\_angle\_target@{Steering\_angle\_target}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Steering\_angle\_target}{Steering\_angle\_target}}
{\footnotesize\ttfamily \label{main_8cpp_a5b8c589ff5901ddd67657fa2027651e5} 
uint8\+\_\+t Steering\+\_\+angle\+\_\+target = 0}

\Hypertarget{main_8cpp_a83ff0ab6d7df349a5ff1bcc47f520eda}\index{main.cpp@{main.cpp}!Steering\_state@{Steering\_state}}
\index{Steering\_state@{Steering\_state}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{Steering\_state}{Steering\_state}}
{\footnotesize\ttfamily \label{main_8cpp_a83ff0ab6d7df349a5ff1bcc47f520eda} 
bool Steering\+\_\+state = false}

\Hypertarget{main_8cpp_a600772ce5723a61206cfb7896fa87b98}\index{main.cpp@{main.cpp}!TANK\_PRESSURE\_FRONT@{TANK\_PRESSURE\_FRONT}}
\index{TANK\_PRESSURE\_FRONT@{TANK\_PRESSURE\_FRONT}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{TANK\_PRESSURE\_FRONT}{TANK\_PRESSURE\_FRONT}}
{\footnotesize\ttfamily \label{main_8cpp_a600772ce5723a61206cfb7896fa87b98} 
float TANK\+\_\+\+PRESSURE\+\_\+\+FRONT = 0}



Pressure value for front tank (in bar). 

Calculated in \doxylink{main_8cpp_a8b77b8c8d4f003bea2fa1df64c7dd946}{median\+\_\+pressures()} from EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+B\+\_\+values. Used in \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()}, \doxylink{main_8cpp_aeabeb8f2cc848d690e00b50345563597}{Handle\+State()}, \doxylink{main_8cpp_af5b02dc36a29cc8a9cecafe91de92888}{send\+\_\+can\+\_\+msg()}, and for state transitions. \Hypertarget{main_8cpp_a130bd0aa4a3a92ede1b03bff81261c87}\index{main.cpp@{main.cpp}!TANK\_PRESSURE\_REAR@{TANK\_PRESSURE\_REAR}}
\index{TANK\_PRESSURE\_REAR@{TANK\_PRESSURE\_REAR}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{TANK\_PRESSURE\_REAR}{TANK\_PRESSURE\_REAR}}
{\footnotesize\ttfamily \label{main_8cpp_a130bd0aa4a3a92ede1b03bff81261c87} 
float TANK\+\_\+\+PRESSURE\+\_\+\+REAR = 0}



Pressure value for rear tank (in bar). 

Calculated in \doxylink{main_8cpp_a8b77b8c8d4f003bea2fa1df64c7dd946}{median\+\_\+pressures()} from EBS\+\_\+\+TANK\+\_\+\+PRESSURE\+\_\+\+A\+\_\+values. Used in \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()}, \doxylink{main_8cpp_aeabeb8f2cc848d690e00b50345563597}{Handle\+State()}, \doxylink{main_8cpp_af5b02dc36a29cc8a9cecafe91de92888}{send\+\_\+can\+\_\+msg()}, and for state transitions. \Hypertarget{main_8cpp_a4c0a1a82b1726627b5cb8c14b30ce99f}\index{main.cpp@{main.cpp}!update\_median\_flag@{update\_median\_flag}}
\index{update\_median\_flag@{update\_median\_flag}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{update\_median\_flag}{update\_median\_flag}}
{\footnotesize\ttfamily \label{main_8cpp_a4c0a1a82b1726627b5cb8c14b30ce99f} 
volatile bool update\+\_\+median\+\_\+flag = false}



Flag to indicate if median pressure update is needed. 

Set in \doxylink{main_8cpp_a41a2ef81f321319f1f2fd450ab85d3a2}{Pressure\+\_\+readings()}, checked in \doxylink{main_8cpp_afe461d27b9c48d5921c00d521181f12f}{loop()} to call \doxylink{main_8cpp_a8b77b8c8d4f003bea2fa1df64c7dd946}{median\+\_\+pressures()}. \Hypertarget{main_8cpp_a2192412d487dff6e1b8987de86abdea4}\index{main.cpp@{main.cpp}!wdt\_relay\_timout@{wdt\_relay\_timout}}
\index{wdt\_relay\_timout@{wdt\_relay\_timout}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{wdt\_relay\_timout}{wdt\_relay\_timout}}
{\footnotesize\ttfamily \label{main_8cpp_a2192412d487dff6e1b8987de86abdea4} 
unsigned long wdt\+\_\+relay\+\_\+timout = 0}



Timeout for WDT relay check. 

Used in \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()} for timing WDT relay state. \Hypertarget{main_8cpp_a3fd1b12a5cf5aae907bb1e1effbec4f5}\index{main.cpp@{main.cpp}!wdt\_togle\_counter@{wdt\_togle\_counter}}
\index{wdt\_togle\_counter@{wdt\_togle\_counter}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{wdt\_togle\_counter}{wdt\_togle\_counter}}
{\footnotesize\ttfamily \label{main_8cpp_a3fd1b12a5cf5aae907bb1e1effbec4f5} 
unsigned long wdt\+\_\+togle\+\_\+counter = 0}



Counter for WDT toggle timing. 

Used in \doxylink{main_8cpp_afe461d27b9c48d5921c00d521181f12f}{loop()} and \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()} to measure elapsed time for WDT toggling. \Hypertarget{main_8cpp_a18c6488c8a74ce3b308a0f46a3b0e3ef}\index{main.cpp@{main.cpp}!wdt\_togle\_enable@{wdt\_togle\_enable}}
\index{wdt\_togle\_enable@{wdt\_togle\_enable}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{wdt\_togle\_enable}{wdt\_togle\_enable}}
{\footnotesize\ttfamily \label{main_8cpp_a18c6488c8a74ce3b308a0f46a3b0e3ef} 
volatile bool wdt\+\_\+togle\+\_\+enable = true}



Flag to enable WDT (Watchdog Timer) toggle. 

Used in \doxylink{main_8cpp_afe461d27b9c48d5921c00d521181f12f}{loop()} and \doxylink{main_8cpp_af5410939209e53fe97278767aee5d5b0}{initial\+\_\+sequence()} to control WDT toggling. 